= Experiment Design
:sectnums:
:toc: left
:doctype: book
//only works on some backends, not HTML
:showcomments:
//use style like Section 1 when referencing within the document.
:xrefstyle: short
:figure-caption: Figure
:pdf-page-size: A4

//GitHub specific settings
ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
:important-caption: :heavy_exclamation_mark:
:caution-caption: :fire:
:warning-caption: :warning:
endif::[]

The PRIDE Experiment Design project will handle and represent each PRIDE project with the corresponding experiment design, including the annotation of:

* Biological sample Metadata.
* The relationship between the Sample and the MSRun
* The Fraction and Fraction Group
* MSRun Metadata.

The following design is based on other efforts from link:external-examples/openms-experimental/OpenMS.md[OpenMS], link:external-examples/maxquant/mqpar-jarnuczak-phospho.xml[MaxQuant], link:external-examples/arrayexpress/ArrayExpress.md[ArrayExpress]

[[ontologies-supported]]
== Ontologies Supported

The list of ontologies supported by this project can be found https://github.com/PRIDE-Archive/pride-metadata-standard#3-ontologies[here].

[[sample-metadata]]
== Minimum information about Sample

The Sample metadata is
*Sample attributes*: Minimum sample attributes for primary cells from different species and cell lines.

|===
| |Human |Vertebrates |Non-vertebrates |Plants |Cell lines |Comment 

|Organism            |X |X |X |X |X |
|Strain/breed        | |O |O |O |O |
|Ethnicity           |X |O |O |O |X |
|Age |O |O | | | |
|Developmental stage |X |O | | | | 
|Sex |X |O | | | | 
|Disease |X |X |X |X |X | 
|Organism part |X |X |X |X |X | 
|Cell type* |X |X |X |X |X |* if known, see comment below 
|Individual |O |O |O |O | |donor or animal ID 
|Cell line Code | | | | |X |name of commercial cell line 
|===

* X : Required Attributes for each sample Type (e.g. Human, Vertebrates).
* O : Optional Attributes.

X: Required
O: Not Required

== Annotation MSRun

MSRun: From each MSRun we need to capture:
 - *unique identifier* : A unique identifier provided by PRIDE during the submission process.
 - *filename*: The filename provided by the user during the submission process.

== Relationship between Sample, Fraction and MSRun

The relationship between the Sample and MSRun will be given by two other Properties:

* Label: It represents the information of a Multiplex or label-free experiment. It can be used to spot the type of experiment. For each Label two major characteristics are mandatory:

** Label Identifier: An identifier of the type of labeling in the Experiment Design Table.
** Label Name: A CvTerm with the type of Labeling applied: *["PRIDE", "PRIDE:0000312", "Label free", ]*
* Fraction Id

** Fraction Identifier: A unique fraction identifier to classify the sample.

*Additional*:

Some search engines as MaxQuant use the Fraction Group to perform better statistical analysis:

* Fraction Group
** Fraction Group Identifier: The fraction group identifier is used to classify multiple fractions.

*Examples Label Free Experiment*:

|===
|Sample |Sample [Sample Name] |Sample [Organism] |Sample [Organism Part] |Fraction |Spectra_Filepath |Label |Technical replicate |Note: 

|1 |sample_dog |DOG |Whole Organism |1 |SPECTRAFILE_DOG_F1_TR1.mzML |label free sample |1 | 
|1 |sample_dog |DOG |Whole Organism |2 |SPECTRAFILE_DOG_F2_TR1.mzML |label free sample |1 | 
|1 |sample_dog |DOG |Whole Organism |3 |SPECTRAFILE_DOG_F3_TR1.mzML |label free sample |1 | 
|2 |sample_dog |DOG |Whole Organism |1 |SPECTRAFILE_DOG_F1_TR2.mzML |label free sample |1 | 
|2 |sample_dog |DOG |Whole Organism |2 |SPECTRAFILE_DOG_F2_TR2.mzML |label free sample |1 | 
|2 |sample_dog |DOG |Whole Organism |3 |SPECTRAFILE_DOG_F3_TR2.mzML |label free sample |1 | 
|3 |sample_cat |CAT |Whole Organism |1 |SPECTRAFILE_CAT_F1_TR1.mzML |label free sample |1 | 
|3 |sample_cat |CAT |Whole Organism |2 |SPECTRAFILE_CAT_F2_TR1.mzML |label free sample |1 | 
|3 |sample_cat |CAT |Whole Organism |3 |SPECTRAFILE_CAT_F3_TR1.mzML |label free sample |1 | 
|4 |sample_cat |CAT |Whole Organism |1 |SPECTRAFILE_CAT_F1_TR2.mzML |label free sample |1 | 
|4 |sample_cat |CAT |Whole Organism |2 |SPECTRAFILE_CAT_F2_TR2.mzML |label free sample |1 | 
|===